<div class="product-details-container" *ngIf="product">

  <div class="product-details-layout">

    <!-- Lewa strona - PodglƒÖd produktu z personalizacjƒÖ -->
    <div class="product-preview-section">
      <app-product-preview [product]="product"></app-product-preview>
    </div>

    <!-- Prawa strona - Szczeg√≥≈Çy produktu -->
    <div class="product-info-section">

      <!-- Nag≈Ç√≥wek produktu -->
      <div class="product-header">
        <div class="breadcrumb">
          <a routerLink="/shop">Sklep</a> / <span>{{ product.name }}</span>
        </div>
        <h1 class="product-title">{{ product.name }}</h1>
        <div class="product-rating">
          <div class="stars">
            ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
          </div>
          <span class="rating-text">(127 opinii)</span>
        </div>
      </div>

      <!-- Ceny -->
      <div class="pricing-section">
        <div class="price-current">{{ formatCurrency(product.price) }} PLN</div>
        <div class="price-original" *ngIf="product.originalPrice">
          {{ formatCurrency(product.originalPrice) }} PLN
        </div>
        <div class="savings" *ngIf="calculateSavings() > 0">
          Oszczƒôdzasz {{ formatCurrency(calculateSavings()) }} PLN!
        </div>
      </div>

      <!-- Opis produktu -->
      <div class="product-description">
        <h3>Opis produktu</h3>
        <p>{{ product.description }}</p>
        <p class="details">{{ product.descriptionDetails }}</p>
      </div>

      <!-- Opcje produktu -->
      <div class="product-options">

        <!-- Rozmiar -->
        <div class="option-group">
          <label>Rozmiar:</label>
          <div class="size-options">
            <button
              *ngFor="let size of availableSizes"
              [class.selected]="selectedSize === size"
              (click)="selectedSize = size"
              class="size-btn">
              {{ size }}
            </button>
          </div>
        </div>

        <!-- Kolor -->
        <div class="option-group">
          <label>Kolor:</label>
          <div class="color-options">
            <button
              *ngFor="let color of availableColors"
              [class.selected]="selectedColor === color"
              (click)="selectedColor = color"
              class="color-btn">
              {{ color }}
            </button>
          </div>
        </div>

        <!-- Ilo≈õƒá -->
        <div class="option-group">
          <label>Ilo≈õƒá:</label>
          <div class="quantity-controls">
            <button (click)="decreaseQuantity()" [disabled]="quantity <= 1" class="qty-btn">-</button>
            <span class="quantity-display">{{ quantity }}</span>
            <button (click)="increaseQuantity()" class="qty-btn">+</button>
          </div>
        </div>

      </div>

      <!-- Przyciski akcji -->
      <div class="action-buttons">
        <button (click)="addToCart(product)" class="btn-add-to-cart">
          <span class="icon">üõí</span>
          Dodaj do koszyka - {{ formatCurrency(product.price * quantity) }} PLN
        </button>
        <button (click)="goToCart()" class="btn-go-to-cart">
          Przejd≈∫ do koszyka
        </button>
      </div>

      <!-- Specyfikacja techniczna -->
      <div class="product-specs">
        <h3>Specyfikacja techniczna</h3>
        <div class="specs-grid">
          <div class="spec-item">
            <span class="spec-label">Materia≈Ç:</span>
            <span class="spec-value">{{ product.materials }}</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Waga:</span>
            <span class="spec-value">{{ product.weight }}</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Wymiary:</span>
            <span class="spec-value">{{ product.dimensions }}</span>
          </div>
          <div class="spec-item">
            <span class="spec-label">Grawerowanie:</span>
            <span class="spec-value">Tak, obie strony</span>
          </div>
        </div>
      </div>

      <!-- Zalety produktu -->
      <div class="product-benefits">
        <h3>Dlaczego warto wybraƒá ten produkt?</h3>
        <ul>
          <li>‚ú® Prawdziwe diamenty najwy≈ºszej jako≈õci</li>
          <li>üî® Rƒôczne wykonanie przez mistrz√≥w jubiler√≥w</li>
          <li>üíé Personalizacja poprzez grawerowanie</li>
          <li>üõ°Ô∏è Trwa≈Ço≈õƒá na ca≈Çe ≈ºycie</li>
          <li>üì¶ Eleganckie opakowanie prezentowe</li>
          <li>üöö Darmowa dostawa przy zam√≥wieniach powy≈ºej 300 PLN</li>
        </ul>
      </div>

    </div>

  </div>

</div>
